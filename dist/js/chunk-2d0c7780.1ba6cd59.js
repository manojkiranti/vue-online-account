(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7780"],{"516d":function(t,e,a){"use strict";a.r(e);var r,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("PageHeader",{attrs:{title:t.title,items:t.items}}),a("div",{staticClass:"learning-detail"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[a("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Show  "),a("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" entries ")],1)])]),a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"d-flex justify-content-end align-items-center"},[a("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[a("label",{staticClass:"d-inline-flex align-items-center mb-0"},[t._v(" Search: "),a("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."}})],1)]),a("div",{staticClass:"table-actions-btns ml-2"},[a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.openCreateModal}},[t._v("Add Category")])],1)])]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",size:"xl",title:t.formModalTitle,"hide-footer":""}},[a("product-modal",{attrs:{createLoading:t.createLoading,modalType:t.modalType,selectedRow:t.selectedRow},on:{submitForm:t.createProductCategory}})],1),a("div",{staticClass:"table-responsive mb-0"},[a("b-table",{ref:"serverTable",attrs:{items:t.tableData,fields:t.fields,responsive:"sm","current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn,busy:t.isTableDataLoading},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(t._f("dateFormate")(e.item.created_at))+" ")]}},{key:"cell(updated_at)",fn:function(e){return[t._v(" "+t._s(t._f("dateFormate")(e.item.updated_at))+" ")]}},{key:"cell(thumb_image)",fn:function(t){return[a("img",{staticClass:"table-preview-img",attrs:{src:t.item.thumb_image_url,alt:""}})]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"badge font-size-12",class:{"badge-soft-success":""+e.value==="active","badge-soft-warning":""+e.value==="inactive"}},[t._v(" "+t._s(e.value)+" ")])]}},{key:"cell(action)",fn:function(e){return[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-3 text-primary",attrs:{href:"javascript:void(0);","data-toggle":"tooltip",title:"view"},on:{click:function(a){return t.editItem(e)}}},[a("i",{staticClass:"mdi mdi-pencil font-size-18"})]),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-danger mr-3",attrs:{href:"javascript:void(0);",title:"Delete"},on:{click:function(a){return t.deleteItem(e)}}},[a("i",{staticClass:"mdi mdi-trash-can font-size-18"})])]}}])})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"\n                      dataTables_paginate\n                      paging_simple_numbers\n                      float-right\n                    "},[a("ul",{staticClass:"pagination pagination-rounded mb-0"},[a("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},on:{change:t.handlePageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])],1)])])])])])],1)},s=[],o=a("ade3"),n=a("5530"),l=(a("a4d3"),a("e01a"),a("ac1f"),a("1276"),a("91c8")),c=a.n(l),d=a("5a5d"),u=a("5658"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-training"},[a("form",{staticClass:"form-horizontal",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productCategory.name,expression:"productCategory.name"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&t.$v.productCategory.name.$error},attrs:{type:"text",placeholder:"Enter Name"},domProps:{value:t.productCategory.name},on:{input:function(e){e.target.composing||t.$set(t.productCategory,"name",e.target.value)}}}),t.submitted&&t.$v.productCategory.name.$error?a("div",{staticClass:"invalid-feedback"},[t.$v.productCategory.name.required?t._e():a("span",[t._v("This field is required.")])]):t._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Name Np")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productCategory.name_np,expression:"productCategory.name_np"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&t.$v.productCategory.name_np.$error},attrs:{type:"text",placeholder:"Enter Name NP"},domProps:{value:t.productCategory.name_np},on:{input:function(e){e.target.composing||t.$set(t.productCategory,"name_np",e.target.value)}}}),t.submitted&&t.$v.productCategory.name_np.$error?a("div",{staticClass:"invalid-feedback"},[t.$v.productCategory.name_np.required?t._e():a("span",[t._v("This field is required.")])]):t._e()])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productCategory.description,expression:"productCategory.description"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&t.$v.productCategory.description.$error},attrs:{type:"text",placeholder:"Description"},domProps:{value:t.productCategory.description},on:{input:function(e){e.target.composing||t.$set(t.productCategory,"description",e.target.value)}}}),t._v(" "),t.submitted&&t.$v.productCategory.description.$error?a("div",{staticClass:"invalid-feedback"},[t.$v.productCategory.description.required?t._e():a("span",[t._v("This field is required.")])]):t._e()])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Description NP")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productCategory.description_np,expression:"productCategory.description_np"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&t.$v.productCategory.description_np.$error},attrs:{type:"text",placeholder:"Description NP"},domProps:{value:t.productCategory.description_np},on:{input:function(e){e.target.composing||t.$set(t.productCategory,"description_np",e.target.value)}}}),t._v(" "),t.submitted&&t.$v.productCategory.description_np.$error?a("div",{staticClass:"invalid-feedback"},[t.$v.productCategory.description_np.required?t._e():a("span",[t._v("This field is required.")])]):t._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Slug")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productCategory.slug,expression:"productCategory.slug"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&t.$v.productCategory.slug.$error},attrs:{type:"text",placeholder:"Slug"},domProps:{value:t.productCategory.slug},on:{input:function(e){e.target.composing||t.$set(t.productCategory,"slug",e.target.value)}}}),t.submitted&&t.$v.productCategory.slug.$error?a("div",{staticClass:"invalid-feedback"},[t.$v.productCategory.slug.required?t._e():a("span",[t._v("This field is required.")])]):t._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Status")]),a("div",[a("switches",{staticClass:"ml-1 mb-0",attrs:{"type-bold":"false",color:"info","text-enabled":"active","text-disabled":"inactive"},model:{value:t.productCategory.status,callback:function(e){t.$set(t.productCategory,"status",e)},expression:"productCategory.status"}})],1)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"required"},[t._v("Upload feature image.")]),a("b-form-file",{class:{"is-invalid":t.submitted&&t.$v.productCategory.featured_image.$error},attrs:{plain:"",accept:"image/jpeg, image/png"},on:{change:function(e){return t.onFileChange(e,"featured_image")}}}),a("output",[t.featureImgUri?a("img",{staticClass:"preview-image",attrs:{src:t.featureImgUri}}):t._e()]),t.submitted&&t.$v.productCategory.featured_image.$error?a("div",{staticClass:"invalid-feedback"},[t.$v.productCategory.featured_image.required?t._e():a("span",[t._v("This field is required.")])]):t._e()],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"required"},[t._v("Upload Thumb image.")]),a("b-form-file",{class:{"is-invalid":t.submitted&&t.$v.productCategory.thumb_image.$error},attrs:{plain:"",accept:"image/jpeg, image/png"},on:{change:function(e){return t.onFileChange(e,"thumb_image")}}}),a("output",[t.thumbImageUri?a("img",{staticClass:"preview-image",attrs:{src:t.thumbImageUri}}):t._e()]),t.submitted&&t.$v.productCategory.thumb_image.$error?a("div",{staticClass:"invalid-feedback"},[t.$v.productCategory.thumb_image.required?t._e():a("span",[t._v("This field is required.")])]):t._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-button",{staticClass:"float-right",attrs:{variant:"primary",type:"submit"}},[t.createLoading?a("b-spinner",{attrs:{small:""}}):t._e(),t._v(" Submit")],1)],1)])])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("h6",{staticClass:"mb-4"},[t._v("Product Category Info")])])}],p=a("3835"),v=(a("4fad"),a("466d"),a("b5ae")),f=a("5c47"),C={name:"ProductCategoryModal",components:{Switches:f["a"]},props:{modalType:{type:String,default:"create"},selectedRow:{type:Object,default:function(){}},trainingTypes:{type:Array,default:function(){return[]}},createLoading:{type:Boolean,default:!1}},data:function(){return{baseUrl:"https://bodeod.nicasiabank.com/public/",submitted:!1,featureImgUri:"",thumbImageUri:"",productCategory:{name:"",name_np:"",description:"",description_np:"",slug:"",order_by:2,featured_image:"",thumb_image:""}}},validations:{productCategory:{name:{required:v["required"]},name_np:{required:v["required"]},description:{required:v["required"]},description_np:{required:v["required"]},slug:{required:v["required"]},featured_image:{required:v["required"]},thumb_image:{required:v["required"]}}},computed:{progress:function(){return Math.round(100/this.max_step)*this.current_step}},mounted:function(){if("create"==this.modalType)this.productCategory={name:"",name_np:"",description:"",description_np:"",slug:"",order_by:2,featured_image:"",thumb_image:""};else{console.log(this.selectedRow);for(var t=0,e=Object.entries(this.selectedRow);t<e.length;t++)for(var a=Object(p["a"])(e[t],2),r=a[0],i=a[1],s=0,o=Object.entries(this.productCategory);s<o.length;s++){var n=Object(p["a"])(o[s],2),l=n[0];n[1];l==r&&(this.productCategory[l]=i),"status"==r&&(this.productCategory.status="active"==this.productCategory.status)}this.featureImgUri=this.selectedRow.featured_image_url,this.thumbImageUri=this.selectedRow.thumb_image_url}},methods:{onFileChange:function(t,e){console.log("event",t);var a,r=t.target.files[0];if(this.productCategory[e]=r,"featured_image"==e?a="featureImgUri":"thumb_image"==e&&(a="thumbImageUri"),!r)return!1;if(!r.type.match("image.*"))return!1;var i=new FileReader,s=this;i.onload=function(t){console.log(t),s[a]=t.target.result},i.readAsDataURL(r)},submitForm:function(){this.submitted=!0,this.$v.$touch(),this.$v.productCategory.$invalid||this.$emit("submitForm",this.productCategory)}}},b=C,h=a("2877"),y=Object(h["a"])(b,m,g,!1,null,null,null),_=y.exports,w=a("2579"),$=a("c2a4"),P=(r={page:{title:"Products Category",meta:[{name:"description",content:$.description}]},name:"ProductCategory",mixins:[c.a],components:{Layout:u["a"],PageHeader:w["a"],ProductModal:_},data:function(){return{title:"Products Category",items:[{text:"Products",href:"/"},{text:"Products Category",active:!0}],formModalTitle:"Create Product Category",modalType:"create",selectedRow:{},isTableDataLoading:!1,createLearningTypeLoading:!1,detailData:{},totalData:null,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"sort",sortDesc:!1,fields:[{key:"id",sortable:!1},{key:"name",sortable:!1},{key:"name_np",sortable:!1},{key:"slug",sortable:!1},{key:"thumb_image",sortable:!1},{key:"status",sortable:!0},{key:"Action"}],tableData:[],learningId:"",createLoading:!1}},filters:{dateFormate:function(t){var e=new Date(t);return e.toISOString().split("T")[0]}},mounted:function(){this.getNewRequest()},computed:{rows:function(){return this.totalData}}},Object(o["a"])(r,"filters",{dateFormate:function(t){var e=new Date(t);return e.toISOString().split("T")[0]}}),Object(o["a"])(r,"methods",{editItem:function(t){this.selectedRow=Object(n["a"])({},t.item),console.log("row",t),this.formModalTitle="Update Product Category",this.modalType="update",this.$refs["modal-1"].show()},deleteItem:function(t){var e=this;this.$bvModal.msgBoxConfirm("Are you want to delete selected List?").then((function(a){if(a){e.isTableDataLoading=!0;var r=e.response(d["a"].deleteProductCategory(t.item.id));r.then((function(t){if(r.isFulfilled()){console.log(t);var a={title:"Success",message:t.message,variant:"success"};e.makeToast(a),e.getNewRequest()}})).catch((function(t){console.log(t);var a={title:"Error",message:t.message,variant:"warning"};e.makeToast(a),e.isTableDataLoading=!1}))}})).catch((function(t){console.log(t)}))},openCreateModal:function(){this.formModalTitle="Create Product Category",this.modalType="create",this.$refs["modal-1"].show()},onFiltered:function(t){console.log("filteredItems",t),this.totalRows=t.length,this.currentPage=1},makeToast:function(t){this.$bvToast.toast("".concat(t.message),{title:"".concat(t.title),autoHideDelay:5e3,variant:t.variant,appendToast:!1})},getRequestParams:function(t,e){var a={};return t&&(a["page"]=t),e&&(a["size"]=e),a},getNewRequest:function(){var t=this,e=this.getRequestParams(this.currentPage,this.perPage);this.isTableDataLoading=!0;var a=this.response(d["a"].getProductCategory(e));a.then((function(e){a.isFulfilled()&&(console.log("all-request",e),t.tableData=e.data,t.totalData=e.total,t.perPage=e.per_page,t.currentPage=e.current_page,t.isTableDataLoading=!1)})).catch((function(e){console.log(e);var a={title:"Error",message:e.message,variant:"warning"};t.makeToast(a),t.isTableDataLoading=!1}))},handlePageChange:function(t){console.log("value",t),this.currentPage=t,this.getNewRequest()},createProductCategory:function(t){var e=this;this.createLoading=!0,console.log(t);var a=Object(n["a"])({},t);a.status=a.status?"active":"inactive";var r,i=new FormData;for(var s in a)i.append(s,a[s]);r="create"==this.modalType?this.response(d["a"].createProductCategoryData(i)):this.response(d["a"].updateProductCategory(this.selectedRow.id,i)),r.then((function(t){if(r.isFulfilled()){e.createLoading=!1,e.getNewRequest();var a={title:"Success",message:t.message,variant:"success"};e.makeToast(a),e.$refs["modal-1"].hide()}})).catch((function(t){console.log(t);var a={title:"Error",message:t.message,variant:"warning"};e.makeToast(a),e.createLoading=!1}))}}),r),T=P,k=Object(h["a"])(T,i,s,!1,null,null,null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d0c7780.1ba6cd59.js.map