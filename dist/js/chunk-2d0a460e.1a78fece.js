(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a460e"],{"05d7":function(e,t,a){"use strict";a.r(t);var r,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("PageHeader",{attrs:{title:e.title,items:e.items}}),a("div",{staticClass:"learning-detail"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[a("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Show  "),a("b-form-select",{attrs:{size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v(" entries ")],1)])]),a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"d-flex justify-content-end align-items-center"},[a("div",{staticClass:"dataTables_filter text-md-right",attrs:{id:"tickets-table_filter"}},[a("label",{staticClass:"d-inline-flex align-items-center mb-0"},[e._v(" Search: "),a("b-form-input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"search",placeholder:"Search..."}})],1)]),a("div",{staticClass:"table-actions-btns ml-2"},[a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:e.openCreateModal}},[e._v("Add Image")])],1)])]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",size:"xl",title:e.formModalTitle,"hide-footer":""}},[a("banner-update-modal",{attrs:{createLoading:e.createLoading,modalType:e.modalType,selectedRow:e.selectedRow},on:{submitForm:e.createProductCategory}})],1),a("div",{staticClass:"table-responsive mb-0"},[a("b-table",{ref:"serverTable",attrs:{items:e.tableData,fields:e.fields,responsive:"sm","current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.filter,"filter-included-fields":e.filterOn,busy:e.isTableDataLoading},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"cell(created_at)",fn:function(t){return[e._v(" "+e._s(e._f("dateFormate")(t.item.created_at))+" ")]}},{key:"cell(updated_at)",fn:function(t){return[e._v(" "+e._s(e._f("dateFormate")(t.item.updated_at))+" ")]}},{key:"cell(thumb_image)",fn:function(e){return[a("img",{attrs:{src:+e.item.thumb_image,alt:""}})]}},{key:"cell(status)",fn:function(t){return[a("div",{staticClass:"badge font-size-12",class:{"badge-soft-success":""+t.value==="active","badge-soft-warning":""+t.value==="inactive"}},[e._v(" "+e._s(t.value)+" ")])]}},{key:"cell(action)",fn:function(t){return[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-3 text-primary",attrs:{href:"javascript:void(0);","data-toggle":"tooltip",title:"view"},on:{click:function(a){return e.editItem(t)}}},[a("i",{staticClass:"mdi mdi-pencil font-size-18"})]),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-danger mr-3",attrs:{href:"javascript:void(0);",title:"Delete"},on:{click:function(a){return e.deleteItem(t)}}},[a("i",{staticClass:"mdi mdi-trash-can font-size-18"})])]}}])})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"\n                      dataTables_paginate\n                      paging_simple_numbers\n                      float-right\n                    "},[a("ul",{staticClass:"pagination pagination-rounded mb-0"},[a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage},on:{change:e.handlePageChange},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])],1)])])])])])],1)},s=[],o=a("ade3"),n=a("5530"),l=(a("a4d3"),a("e01a"),a("ac1f"),a("1276"),a("91c8")),c=a.n(l),d=a("5a5d"),u=a("5658"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create-training"},[a("form",{staticClass:"form-horizontal",on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.productCategory.name,expression:"productCategory.name"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.productCategory.name.$error},attrs:{type:"text",placeholder:"Enter Name"},domProps:{value:e.productCategory.name},on:{input:function(t){t.target.composing||e.$set(e.productCategory,"name",t.target.value)}}}),e.submitted&&e.$v.productCategory.name.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.productCategory.name.required?e._e():a("span",[e._v("This field is required.")])]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Name Np")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.productCategory.name_np,expression:"productCategory.name_np"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.productCategory.name_np.$error},attrs:{type:"text",placeholder:"Enter Name NP"},domProps:{value:e.productCategory.name_np},on:{input:function(t){t.target.composing||e.$set(e.productCategory,"name_np",t.target.value)}}}),e.submitted&&e.$v.productCategory.name_np.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.productCategory.name_np.required?e._e():a("span",[e._v("This field is required.")])]):e._e()])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.productCategory.description,expression:"productCategory.description"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.productCategory.description.$error},attrs:{type:"text",placeholder:"Description"},domProps:{value:e.productCategory.description},on:{input:function(t){t.target.composing||e.$set(e.productCategory,"description",t.target.value)}}}),e._v(" "),e.submitted&&e.$v.productCategory.description.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.productCategory.description.required?e._e():a("span",[e._v("This field is required.")])]):e._e()])]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Description NP")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.productCategory.description_np,expression:"productCategory.description_np"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.productCategory.description_np.$error},attrs:{type:"text",placeholder:"Description NP"},domProps:{value:e.productCategory.description_np},on:{input:function(t){t.target.composing||e.$set(e.productCategory,"description_np",t.target.value)}}}),e._v(" "),e.submitted&&e.$v.productCategory.description_np.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.productCategory.description_np.required?e._e():a("span",[e._v("This field is required.")])]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Slug")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.productCategory.slug,expression:"productCategory.slug"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.productCategory.slug.$error},attrs:{type:"text",placeholder:"Slug"},domProps:{value:e.productCategory.slug},on:{input:function(t){t.target.composing||e.$set(e.productCategory,"slug",t.target.value)}}}),e.submitted&&e.$v.productCategory.slug.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.productCategory.slug.required?e._e():a("span",[e._v("This field is required.")])]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Status")]),a("div",[a("switches",{staticClass:"ml-1 mb-0",attrs:{"type-bold":"false",color:"info","text-enabled":"active","text-disabled":"inactive"},model:{value:e.productCategory.status,callback:function(t){e.$set(e.productCategory,"status",t)},expression:"productCategory.status"}})],1)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"required"},[e._v("Upload feature image.")]),a("b-form-file",{class:{"is-invalid":e.submitted&&e.$v.productCategory.featured_image.$error},attrs:{plain:"",accept:"image/jpeg, image/png"},on:{change:function(t){return e.onFileChange(t,"featured_image")}}}),a("output",[e.featureImgUri?a("img",{staticClass:"preview-image",attrs:{src:e.featureImgUri}}):e._e()]),e.submitted&&e.$v.productCategory.featured_image.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.productCategory.featured_image.required?e._e():a("span",[e._v("This field is required.")])]):e._e()],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"required"},[e._v("Upload Thumb image.")]),a("b-form-file",{class:{"is-invalid":e.submitted&&e.$v.productCategory.thumb_image.$error},attrs:{plain:"",accept:"image/jpeg, image/png"},on:{change:function(t){return e.onFileChange(t,"thumb_image")}}}),a("output",[e.thumbImageUri?a("img",{staticClass:"preview-image",attrs:{src:e.thumbImageUri}}):e._e()]),e.submitted&&e.$v.productCategory.thumb_image.$error?a("div",{staticClass:"invalid-feedback"},[e.$v.productCategory.thumb_image.required?e._e():a("span",[e._v("This field is required.")])]):e._e()],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-button",{staticClass:"float-right",attrs:{variant:"primary",type:"submit"}},[e.createLoading?a("b-spinner",{attrs:{small:""}}):e._e(),e._v(" Submit")],1)],1)])])])},p=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("h6",{staticClass:"mb-4"},[e._v("Product Category Info")])])}],g=a("3835"),v=(a("4fad"),a("466d"),a("b5ae")),f=a("5c47"),b={name:"ProductCategoryModal",components:{Switches:f["a"]},props:{modalType:{type:String,default:"create"},selectedRow:{type:Object,default:function(){}},trainingTypes:{type:Array,default:function(){return[]}},createLoading:{type:Boolean,default:!1}},data:function(){return{baseUrl:"https://bodeod.nicasiabank.com/public/",submitted:!1,featureImgUri:"",thumbImageUri:"",productCategory:{name:"",name_np:"",description:"",description_np:"",slug:"",order_by:2,featured_image:"",thumb_image:""}}},validations:{productCategory:{name:{required:v["required"]},name_np:{required:v["required"]},description:{required:v["required"]},description_np:{required:v["required"]},slug:{required:v["required"]},featured_image:{required:v["required"]},thumb_image:{required:v["required"]}}},computed:{progress:function(){return Math.round(100/this.max_step)*this.current_step}},mounted:function(){if("create"==this.modalType)this.productCategory={name:"",name_np:"",description:"",description_np:"",slug:"",order_by:2,featured_image:"",thumb_image:""};else{console.log(this.selectedRow);for(var e=0,t=Object.entries(this.selectedRow);e<t.length;e++)for(var a=Object(g["a"])(t[e],2),r=a[0],i=a[1],s=0,o=Object.entries(this.productCategory);s<o.length;s++){var n=Object(g["a"])(o[s],2),l=n[0];n[1];l==r&&(this.productCategory[l]=i),"status"==r&&(this.productCategory.status="active"==this.productCategory.status)}}},methods:{onFileChange:function(e,t){console.log("event",e);var a,r=e.target.files[0];if(this.productCategory[t]=r,"featured_image"==t?a="featureImgUri":"thumb_image"==t&&(a="thumbImageUri"),!r)return!1;if(!r.type.match("image.*"))return!1;var i=new FileReader,s=this;i.onload=function(e){console.log(e),s[a]=e.target.result},i.readAsDataURL(r)},submitForm:function(){this.submitted=!0,this.$v.$touch(),this.$v.productCategory.$invalid||this.$emit("submitForm",this.productCategory)}}},C=b,h=a("2877"),y=Object(h["a"])(C,m,p,!1,null,null,null),_=y.exports,w=a("2579"),$=a("c2a4"),T=(r={page:{title:"Home Banner",meta:[{name:"description",content:$.description}]},name:"UiBanners",mixins:[c.a],components:{Layout:u["a"],PageHeader:w["a"],BannerUpdateModal:_},data:function(){return{title:"Home Banner",items:[{text:"UI",href:"/"},{text:"banner",active:!0}],formModalTitle:"Create Product Category",modalType:"create",selectedRow:{},isTableDataLoading:!1,createLearningTypeLoading:!1,detailData:{},totalData:null,totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"sort",sortDesc:!1,fields:[{key:"id",sortable:!1},{key:"name",sortable:!1},{key:"name_np",sortable:!1},{key:"slug",sortable:!1},{key:"thumb_image",sortable:!1},{key:"status",sortable:!0},{key:"Action"}],tableData:[],learningId:"",createLoading:!1}},filters:{dateFormate:function(e){var t=new Date(e);return t.toISOString().split("T")[0]}},mounted:function(){this.getNewRequest()},computed:{rows:function(){return this.totalData}}},Object(o["a"])(r,"filters",{dateFormate:function(e){var t=new Date(e);return t.toISOString().split("T")[0]}}),Object(o["a"])(r,"methods",{editItem:function(e){this.selectedRow=Object(n["a"])({},e.item),console.log("row",e),this.formModalTitle="Update Product Category",this.modalType="update",this.$refs["modal-1"].show()},deleteItem:function(e){var t=this;this.$bvModal.msgBoxConfirm("Are you want to delete selected List?").then((function(a){if(a){t.isTableDataLoading=!0;var r=t.response(Learning.deleteLearningList(e.item.id));r.then((function(e){r.isFulfilled()&&(console.log(e),t.getNewRequest())})).catch((function(e){console.log(e);var a={title:"Error",message:e.message,variant:"warning"};t.makeToast(a),t.isTableDataLoading=!1}))}})).catch((function(e){console.log(e)}))},openCreateModal:function(){this.formModalTitle="Create Product Category",this.modalType="create",this.$refs["modal-1"].show()},onFiltered:function(e){console.log("filteredItems",e),this.totalRows=e.length,this.currentPage=1},makeToast:function(e){this.$bvToast.toast("".concat(e.message),{title:"".concat(e.title),autoHideDelay:5e3,variant:e.variant,appendToast:!1})},getRequestParams:function(e,t){var a={};return e&&(a["page"]=e),t&&(a["size"]=t),a},getNewRequest:function(){var e=this,t=this.getRequestParams(this.currentPage,this.perPage);this.isTableDataLoading=!0;var a=this.response(d["a"].getProductCategory(t));a.then((function(t){a.isFulfilled()&&(console.log("all-request",t),e.tableData=t.data,e.totalData=t.total,e.perPage=t.per_page,e.currentPage=t.current_page,e.isTableDataLoading=!1)})).catch((function(t){console.log(t);var a={title:"Error",message:t.message,variant:"warning"};e.makeToast(a),e.isTableDataLoading=!1}))},handlePageChange:function(e){console.log("value",e),this.currentPage=e,this.getNewRequest()},createProductCategory:function(e){var t=this;this.createLoading=!0,console.log(e);var a=Object(n["a"])({},e);a.status=a.status?"active":"inactive";var r,i=new FormData;for(var s in a)i.append(s,a[s]);r="create"==this.modalType?this.response(d["a"].createProductCategory(i)):this.response(d["a"].updateProductCategory(this.selectedRow.id,i)),r.then((function(e){if(r.isFulfilled()){t.createLoading=!1,t.getNewRequest();var a={title:"Success",message:e.message,variant:"success"};t.makeToast(a),t.$refs["modal-1"].hide()}})).catch((function(e){console.log(e);var a={title:"Error",message:e.message,variant:"warning"};t.makeToast(a),t.createLoading=!1}))}}),r),P=T,q=Object(h["a"])(P,i,s,!1,null,null,null);t["default"]=q.exports}}]);
//# sourceMappingURL=chunk-2d0a460e.1a78fece.js.map